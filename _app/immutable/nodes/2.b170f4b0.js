import{S as rt,i as nt,s as ot,k as f,q as g,a as R,l as _,m as p,r as E,h as c,c as L,n as d,F as Y,b as P,C as r,G as Z,H as $,I as at,D as H,J as it,o as ct,u as lt}from"../chunks/index.5659afb7.js";import{d as tt,_ as et,a as A,g as ut,m as dt}from"../chunks/_layout.4336bf1a.js";const st=""+new URL("../assets/lucas-peace.8b69d6ee.png",import.meta.url).href,ft=""+new URL("../assets/pissedoff.ac7dfb61.png",import.meta.url).href;function _t(u){let t,s;return{c(){t=f("p"),s=g("Nao tiltou ainda"),this.h()},l(e){t=_(e,"P",{class:!0});var n=p(t);s=E(n,"Nao tiltou ainda"),n.forEach(c),this.h()},h(){d(t,"class","text-3xl text-white")},m(e,n){P(e,t,n),r(t,s)},p:H,d(e){e&&c(t)}}}function ht(u){let t,s,e,n;return{c(){t=f("p"),s=g("Tiltou "),e=g(u[3]),n=g(" vezes"),this.h()},l(o){t=_(o,"P",{class:!0});var a=p(t);s=E(a,"Tiltou "),e=E(a,u[3]),n=E(a," vezes"),a.forEach(c),this.h()},h(){d(t,"class","text-3xl text-white")},m(o,a){P(o,t,a),r(t,s),r(t,e),r(t,n)},p(o,a){a&8&&lt(e,o[3])},d(o){o&&c(t)}}}function pt(u){let t,s,e,n;return{c(){t=f("p"),s=g("Tiltou "),e=g(u[3]),n=g(" vez"),this.h()},l(o){t=_(o,"P",{class:!0});var a=p(t);s=E(a,"Tiltou "),e=E(a,u[3]),n=E(a," vez"),a.forEach(c),this.h()},h(){d(t,"class","text-3xl text-white")},m(o,a){P(o,t,a),r(t,s),r(t,e),r(t,n)},p(o,a){a&8&&lt(e,o[3])},d(o){o&&c(t)}}}function mt(u){let t,s,e,n,o,a,y,z,V,m,v,U,l,w,x,T,D,Q,I,q,N,k,S,J;function M(i,h){return i[3]==1?pt:i[3]>1?ht:_t}let B=M(u),b=B(u);return{c(){t=f("div"),s=f("div"),e=f("h1"),n=g("Ultimate Lucas Tilt Counter"),o=R(),a=f("div"),y=f("p"),z=g("Quantas vezes o Lucas tiltou ?"),V=R(),m=f("div"),v=f("input"),U=R(),l=f("button"),w=g("Enviar tilts"),x=R(),T=f("div"),D=f("div"),b.c(),Q=R(),I=f("img"),N=R(),k=f("span"),this.h()},l(i){t=_(i,"DIV",{id:!0,class:!0});var h=p(t);s=_(h,"DIV",{});var C=p(s);e=_(C,"H1",{class:!0});var O=p(e);n=E(O,"Ultimate Lucas Tilt Counter"),O.forEach(c),o=L(C),a=_(C,"DIV",{class:!0});var j=p(a);y=_(j,"P",{class:!0});var K=p(y);z=E(K,"Quantas vezes o Lucas tiltou ?"),K.forEach(c),V=L(j),m=_(j,"DIV",{class:!0});var F=p(m);v=_(F,"INPUT",{class:!0,type:!0}),U=L(F),l=_(F,"BUTTON",{id:!0,class:!0});var W=p(l);w=E(W,"Enviar tilts"),W.forEach(c),F.forEach(c),j.forEach(c),C.forEach(c),x=L(h),T=_(h,"DIV",{class:!0});var G=p(T);D=_(G,"DIV",{});var X=p(D);b.l(X),X.forEach(c),Q=L(G),I=_(G,"IMG",{src:!0,alt:!0}),G.forEach(c),h.forEach(c),N=L(i),k=_(i,"SPAN",{class:!0}),p(k).forEach(c),this.h()},h(){d(e,"class","text-9xl text-center text-white"),d(y,"class","text-3xl"),d(v,"class","rounded text-center bg-orange-300 border"),d(v,"type","number"),l.disabled=u[2],d(l,"id","button"),d(l,"class","p-1 hover:bg-gray-700 disabled:bg-gray-100 disabled:text-gray-300 bg-black text-white rounded "),d(m,"class","flex flex-col items-center justify-between gap-1"),d(a,"class","flex flex-col items-center"),Y(I.src,q=u[1])||d(I,"src",q),d(I,"alt",""),d(T,"class","flex flex-col items-center justify-end"),d(t,"id","container"),d(t,"class","bg-orange-500 flex items-center justify-between flex-col w-screen h-screen"),d(k,"class","container-content svelte-1xufv1b")},m(i,h){P(i,t,h),r(t,s),r(s,e),r(e,n),r(s,o),r(s,a),r(a,y),r(y,z),r(a,V),r(a,m),r(m,v),Z(v,u[0]),r(m,U),r(m,l),r(l,w),r(t,x),r(t,T),r(T,D),b.m(D,null),r(T,Q),r(T,I),P(i,N,h),P(i,k,h),S||(J=[$(v,"input",u[5]),$(l,"click",u[6])],S=!0)},p(i,[h]){h&1&&at(v.value)!==i[0]&&Z(v,i[0]),h&4&&(l.disabled=i[2]),B===(B=M(i))&&b?b.p(i,h):(b.d(1),b=B(i),b&&(b.c(),b.m(D,null))),h&2&&!Y(I.src,q=i[1])&&d(I,"src",q)},i:H,o:H,d(i){i&&c(t),b.d(),i&&c(N),i&&c(k),S=!1,it(J)}}}function vt(u,t,s){let e,n,o=st,a=!1;ct(async()=>{y(),setInterval(async()=>{await y()},6e4)});async function y(){let l="";try{(await tt(et(A,"data"))).forEach(x=>{x.data().last_time_tilted?l=x.data().last_time_tilted:l="",s(3,n=x.data().tilt_count),l=new Date(l.seconds*1e3+l.nanoseconds/1e6),new Date-l<3e5?s(2,a=!0):s(2,a=!1)})}catch(w){console.error("Erro ao obter dados do Firestore:",w)}}async function z(){let l=!0;try{return(await tt(et(A,"data"))).forEach(x=>{x.data().tilt_count>n?l=!1:l=!0}),l}catch(w){console.error("Erro ao obter dados do Firestore:",w)}}async function V(){if(z())try{const l=ut(A,"data","uVWaQBObRq1PTKGJ09ku");await dt(l,{tilt_count:n+e,last_time_tilted:new Date}),console.log("Document written with ID: ",l.id)}catch(l){console.error("Error adding document: ",l)}y()}function m(){document.getElementById("container").classList.add("container-content"),s(3,n+=e),s(1,o=ft),V(),setTimeout(()=>{s(1,o=st),document.getElementById("container").classList.remove("container-content")},3e3)}function v(){e=at(this.value),s(0,e)}const U=()=>m();return u.$$.update=()=>{u.$$.dirty&1&&(e<0||e==null)&&s(0,e=0)},s(0,e=0),s(3,n=0),[e,o,a,n,m,v,U]}class gt extends rt{constructor(t){super(),nt(this,t,vt,mt,ot,{})}}export{gt as component};
