import{S as $,i as tt,s as et,k as f,q as D,a as L,l as m,m as _,r as I,h as n,c as V,n as c,F as Q,b as S,C as e,G as st,u as at,D as W,o as lt}from"../chunks/index.9ca60ce6.js";import{d as X,_ as Y,a as A,g as ot,m as rt}from"../chunks/_layout.4746e9b0.js";const Z=""+new URL("../assets/lucas-peace.8b69d6ee.png",import.meta.url).href,nt=""+new URL("../assets/pissedoff.ac7dfb61.png",import.meta.url).href;function ct(g){let o,a,r,y,w,i,v,R,E,d,t,h,l,x,p,O,k,z,F,b,P,U,T,G,M;return{c(){o=f("div"),a=f("div"),r=f("h1"),y=D("Ultimate Lucas Tilt Counter"),w=L(),i=f("div"),v=f("p"),R=D("O Lucas tiltou hoje ?"),E=L(),d=f("button"),t=D("Tiltou"),h=L(),l=f("div"),x=f("div"),p=f("p"),O=D("Tiltou "),k=D(g[2]),z=D(" vezes"),F=L(),b=f("img"),U=L(),T=f("span"),this.h()},l(s){o=m(s,"DIV",{id:!0,class:!0});var u=_(o);a=m(u,"DIV",{});var j=_(a);r=m(j,"H1",{class:!0});var N=_(r);y=I(N,"Ultimate Lucas Tilt Counter"),N.forEach(n),w=V(j),i=m(j,"DIV",{class:!0});var q=_(i);v=m(q,"P",{class:!0});var H=_(v);R=I(H,"O Lucas tiltou hoje ?"),H.forEach(n),E=V(q),d=m(q,"BUTTON",{id:!0,class:!0});var J=_(d);t=I(J,"Tiltou"),J.forEach(n),q.forEach(n),j.forEach(n),h=V(u),l=m(u,"DIV",{class:!0});var B=_(l);x=m(B,"DIV",{});var K=_(x);p=m(K,"P",{class:!0});var C=_(p);O=I(C,"Tiltou "),k=I(C,g[2]),z=I(C," vezes"),C.forEach(n),K.forEach(n),F=V(B),b=m(B,"IMG",{src:!0,alt:!0}),B.forEach(n),u.forEach(n),U=V(s),T=m(s,"SPAN",{class:!0}),_(T).forEach(n),this.h()},h(){c(r,"class","text-9xl text-center text-white"),c(v,"class","text-3xl"),d.disabled=g[1],c(d,"id","button"),c(d,"class","p-2 mt-2 hover:bg-gray-700 disabled:bg-gray-100 disabled:text-gray-300 bg-black text-white"),c(i,"class","flex flex-col items-center"),c(p,"class","text-3xl text-white"),Q(b.src,P=g[0])||c(b,"src",P),c(b,"alt",""),c(l,"class","flex flex-col items-center justify-end"),c(o,"id","container"),c(o,"class","bg-orange-500 flex items-center justify-between flex-col w-screen h-screen"),c(T,"class","container-content svelte-1xufv1b")},m(s,u){S(s,o,u),e(o,a),e(a,r),e(r,y),e(a,w),e(a,i),e(i,v),e(v,R),e(i,E),e(i,d),e(d,t),e(o,h),e(o,l),e(l,x),e(x,p),e(p,O),e(p,k),e(p,z),e(l,F),e(l,b),S(s,U,u),S(s,T,u),G||(M=st(d,"click",g[4]),G=!0)},p(s,[u]){u&2&&(d.disabled=s[1]),u&4&&at(k,s[2]),u&1&&!Q(b.src,P=s[0])&&c(b,"src",P)},i:W,o:W,d(s){s&&n(o),s&&n(U),s&&n(T),G=!1,M()}}}function it(g,o,a){let r,y=Z,w=!1;lt(async()=>{i(),setInterval(async()=>{await i()},6e4)});async function i(){let t="";try{(await X(Y(A,"data"))).forEach(l=>{l.data().last_time_tilted?t=l.data().last_time_tilted:t="",a(2,r=l.data().tilt_count),t=new Date(t.seconds*1e3+t.nanoseconds/1e6),new Date-t<9e5&&a(1,w=!0)})}catch(h){console.error("Erro ao obter dados do Firestore:",h)}}async function v(){let t=!0;try{return(await X(Y(A,"data"))).forEach(l=>{l.data().tilt_count>r?t=!1:t=!0}),t}catch(h){console.error("Erro ao obter dados do Firestore:",h)}}async function R(){if(v())try{const t=ot(A,"data","uVWaQBObRq1PTKGJ09ku");await rt(t,{tilt_count:r,last_time_tilted:new Date}),console.log("Document written with ID: ",t.id)}catch(t){console.error("Error adding document: ",t)}i()}function E(){document.getElementById("container").classList.add("container-content"),a(2,r+=1),a(0,y=nt),R(),setTimeout(()=>{a(0,y=Z),document.getElementById("container").classList.remove("container-content")},3e3)}const d=()=>E();return a(2,r=0),[y,w,r,E,d]}class ft extends ${constructor(o){super(),tt(this,o,it,ct,et,{})}}export{ft as component};
