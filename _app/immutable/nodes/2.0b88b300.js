import{S as Z,i as $,s as tt,k as _,q as y,a as L,l as m,m as v,r as g,h as n,c as P,n as d,F as K,b as I,C as o,G as et,D as F,o as st,u as Y}from"../chunks/index.9ca60ce6.js";import{d as Q,_ as W,a as O,g as at,m as lt}from"../chunks/_layout.4746e9b0.js";const X=""+new URL("../assets/lucas-peace.8b69d6ee.png",import.meta.url).href,ot=""+new URL("../assets/pissedoff.ac7dfb61.png",import.meta.url).href;function rt(u){let t,a;return{c(){t=_("p"),a=y("Nao tiltou ainda"),this.h()},l(s){t=m(s,"P",{class:!0});var r=v(t);a=g(r,"Nao tiltou ainda"),r.forEach(n),this.h()},h(){d(t,"class","text-3xl text-white")},m(s,r){I(s,t,r),o(t,a)},p:F,d(s){s&&n(t)}}}function it(u){let t,a,s,r;return{c(){t=_("p"),a=y("Tiltou "),s=y(u[2]),r=y(" vezes"),this.h()},l(l){t=m(l,"P",{class:!0});var e=v(t);a=g(e,"Tiltou "),s=g(e,u[2]),r=g(e," vezes"),e.forEach(n),this.h()},h(){d(t,"class","text-3xl text-white")},m(l,e){I(l,t,e),o(t,a),o(t,s),o(t,r)},p(l,e){e&4&&Y(s,l[2])},d(l){l&&n(t)}}}function ct(u){let t,a,s,r;return{c(){t=_("p"),a=y("Tiltou "),s=y(u[2]),r=y(" vez"),this.h()},l(l){t=m(l,"P",{class:!0});var e=v(t);a=g(e,"Tiltou "),s=g(e,u[2]),r=g(e," vez"),e.forEach(n),this.h()},h(){d(t,"class","text-3xl text-white")},m(l,e){I(l,t,e),o(t,a),o(t,s),o(t,r)},p(l,e){e&4&&Y(s,l[2])},d(l){l&&n(t)}}}function nt(u){let t,a,s,r,l,e,E,R,k,p,c,w,f,T,V,x,z,U,D,N,G;function S(i,h){return i[2]==1?ct:i[2]>1?it:rt}let j=S(u),b=j(u);return{c(){t=_("div"),a=_("div"),s=_("h1"),r=y("Ultimate Lucas Tilt Counter"),l=L(),e=_("div"),E=_("p"),R=y("O Lucas tiltou hoje ?"),k=L(),p=_("button"),c=y("Tiltou"),w=L(),f=_("div"),T=_("div"),b.c(),V=L(),x=_("img"),U=L(),D=_("span"),this.h()},l(i){t=m(i,"DIV",{id:!0,class:!0});var h=v(t);a=m(h,"DIV",{});var q=v(a);s=m(q,"H1",{class:!0});var A=v(s);r=g(A,"Ultimate Lucas Tilt Counter"),A.forEach(n),l=P(q),e=m(q,"DIV",{class:!0});var B=v(e);E=m(B,"P",{class:!0});var M=v(E);R=g(M,"O Lucas tiltou hoje ?"),M.forEach(n),k=P(B),p=m(B,"BUTTON",{id:!0,class:!0});var H=v(p);c=g(H,"Tiltou"),H.forEach(n),B.forEach(n),q.forEach(n),w=P(h),f=m(h,"DIV",{class:!0});var C=v(f);T=m(C,"DIV",{});var J=v(T);b.l(J),J.forEach(n),V=P(C),x=m(C,"IMG",{src:!0,alt:!0}),C.forEach(n),h.forEach(n),U=P(i),D=m(i,"SPAN",{class:!0}),v(D).forEach(n),this.h()},h(){d(s,"class","text-9xl text-center text-white"),d(E,"class","text-3xl"),p.disabled=u[1],d(p,"id","button"),d(p,"class","p-2 mt-2 hover:bg-gray-700 disabled:bg-gray-100 disabled:text-gray-300 bg-black text-white"),d(e,"class","flex flex-col items-center"),K(x.src,z=u[0])||d(x,"src",z),d(x,"alt",""),d(f,"class","flex flex-col items-center justify-end"),d(t,"id","container"),d(t,"class","bg-orange-500 flex items-center justify-between flex-col w-screen h-screen"),d(D,"class","container-content svelte-1xufv1b")},m(i,h){I(i,t,h),o(t,a),o(a,s),o(s,r),o(a,l),o(a,e),o(e,E),o(E,R),o(e,k),o(e,p),o(p,c),o(t,w),o(t,f),o(f,T),b.m(T,null),o(f,V),o(f,x),I(i,U,h),I(i,D,h),N||(G=et(p,"click",u[4]),N=!0)},p(i,[h]){h&2&&(p.disabled=i[1]),j===(j=S(i))&&b?b.p(i,h):(b.d(1),b=j(i),b&&(b.c(),b.m(T,null))),h&1&&!K(x.src,z=i[0])&&d(x,"src",z)},i:F,o:F,d(i){i&&n(t),b.d(),i&&n(U),i&&n(D),N=!1,G()}}}function dt(u,t,a){let s,r=X,l=!1;st(async()=>{e(),setInterval(async()=>{await e()},6e4)});async function e(){let c="";try{(await Q(W(O,"data"))).forEach(f=>{f.data().last_time_tilted?c=f.data().last_time_tilted:c="",a(2,s=f.data().tilt_count),c=new Date(c.seconds*1e3+c.nanoseconds/1e6),new Date-c<3e5?a(1,l=!0):a(1,l=!1)})}catch(w){console.error("Erro ao obter dados do Firestore:",w)}}async function E(){let c=!0;try{return(await Q(W(O,"data"))).forEach(f=>{f.data().tilt_count>s?c=!1:c=!0}),c}catch(w){console.error("Erro ao obter dados do Firestore:",w)}}async function R(){if(E())try{const c=at(O,"data","uVWaQBObRq1PTKGJ09ku");await lt(c,{tilt_count:s,last_time_tilted:new Date}),console.log("Document written with ID: ",c.id)}catch(c){console.error("Error adding document: ",c)}e()}function k(){document.getElementById("container").classList.add("container-content"),a(2,s+=1),a(0,r=ot),R(),setTimeout(()=>{a(0,r=X),document.getElementById("container").classList.remove("container-content")},3e3)}const p=()=>k();return a(2,s=0),[r,l,s,k,p]}class ht extends Z{constructor(t){super(),$(this,t,dt,nt,tt,{})}}export{ht as component};
