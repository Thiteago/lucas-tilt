import{S as Z,i as $,s as tt,k as d,q as I,a as R,l as u,m as f,r as T,h as o,c as U,n,F as K,b as G,C as e,G as et,u as st,D as Q,o as at}from"../chunks/index.9ca60ce6.js";import{d as lt,_ as W,a as X,m as ot}from"../chunks/_layout.198f7d74.js";const Y=""+new URL("../assets/lucas-peace.8b69d6ee.png",import.meta.url).href,nt=""+new URL("../assets/pissedoff.ac7dfb61.png",import.meta.url).href;function rt(v){let l,a,r,b,w,c,_,y,L,t,x,g,m,E,h,z,V,O,S,p,j,k,D,F,M;return{c(){l=d("div"),a=d("div"),r=d("h1"),b=I("Ultimate Lucas Tilt Counter"),w=R(),c=d("div"),_=d("p"),y=I("O Lucas tiltou hoje ?"),L=R(),t=d("button"),x=I("Tiltou"),g=R(),m=d("div"),E=d("div"),h=d("p"),z=I("Tiltou "),V=I(v[2]),O=I(" vezes"),S=R(),p=d("img"),k=R(),D=d("span"),this.h()},l(s){l=u(s,"DIV",{id:!0,class:!0});var i=f(l);a=u(i,"DIV",{});var B=f(a);r=u(B,"H1",{class:!0});var N=f(r);b=T(N,"Ultimate Lucas Tilt Counter"),N.forEach(o),w=U(B),c=u(B,"DIV",{class:!0});var C=f(c);_=u(C,"P",{class:!0});var A=f(_);y=T(A,"O Lucas tiltou hoje ?"),A.forEach(o),L=U(C),t=u(C,"BUTTON",{id:!0,class:!0});var H=f(t);x=T(H,"Tiltou"),H.forEach(o),C.forEach(o),B.forEach(o),g=U(i),m=u(i,"DIV",{class:!0});var P=f(m);E=u(P,"DIV",{});var J=f(E);h=u(J,"P",{class:!0});var q=f(h);z=T(q,"Tiltou "),V=T(q,v[2]),O=T(q," vezes"),q.forEach(o),J.forEach(o),S=U(P),p=u(P,"IMG",{src:!0,alt:!0}),P.forEach(o),i.forEach(o),k=U(s),D=u(s,"SPAN",{class:!0}),f(D).forEach(o),this.h()},h(){n(r,"class","text-9xl text-center text-white"),n(_,"class","text-3xl"),t.disabled=v[1],n(t,"id","button"),n(t,"class","p-2 mt-2 hover:bg-gray-700 disabled:bg-gray-100 disabled:text-gray-300 bg-black text-white"),n(c,"class","flex flex-col items-center"),n(h,"class","text-3xl text-white"),K(p.src,j=v[0])||n(p,"src",j),n(p,"alt",""),n(m,"class","flex flex-col items-center justify-end"),n(l,"id","container"),n(l,"class","bg-orange-500 flex items-center justify-between flex-col w-screen h-screen"),n(D,"class","container-content svelte-1xufv1b")},m(s,i){G(s,l,i),e(l,a),e(a,r),e(r,b),e(a,w),e(a,c),e(c,_),e(_,y),e(c,L),e(c,t),e(t,x),e(l,g),e(l,m),e(m,E),e(E,h),e(h,z),e(h,V),e(h,O),e(m,S),e(m,p),G(s,k,i),G(s,D,i),F||(M=et(t,"click",v[4]),F=!0)},p(s,[i]){i&2&&(t.disabled=s[1]),i&4&&st(V,s[2]),i&1&&!K(p.src,j=s[0])&&n(p,"src",j)},i:Q,o:Q,d(s){s&&o(l),s&&o(k),s&&o(D),F=!1,M()}}}function it(v,l,a){let r,b=Y,w=!1;at(async()=>{c(),setInterval(async()=>{await c()},6e4)});async function c(){let t="";try{(await lt(W(X,"data"))).forEach(g=>{g.data().last_time_tilted?t=g.data().last_time_tilted:t="",a(2,r=g.data().tilt_count),t=new Date(t.seconds*1e3+t.nanoseconds/1e6),new Date-t<9e5&&a(1,w=!0)})}catch(x){console.error("Erro ao obter dados do Firestore:",x)}}async function _(){try{const t=await ot(W(X,"data"),{tilt_count:r,last_time_tilted:new Date});console.log("Document written with ID: ",t.id)}catch(t){console.error("Error adding document: ",t)}}function y(){document.getElementById("container").classList.add("container-content"),a(2,r+=1),a(0,b=nt),disableButton(),_(),setTimeout(()=>{a(0,b=Y),document.getElementById("container").classList.remove("container-content")},3e3)}const L=()=>y();return a(2,r=0),[b,w,r,y,L]}class ut extends Z{constructor(l){super(),$(this,l,it,rt,tt,{})}}export{ut as component};
